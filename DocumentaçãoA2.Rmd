---
title: "Trabalho da A2"
author: "Gustavo Tironi e Luis Felipe Marciano"
date: '2023-06-03'
output: 
  html_document:
    overflow: hidden
    number_sections: yes
    highlight: tango
    theme: cerulean
    toc: yes
    toc_float:
      collapsed: yes
      smmoth_scroll: no
  pdf_document:
    toc: no
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(message = FALSE,
                      warning = FALSE,
                      fig_width = 8,
                      fig.height = 4,
                      fig.align = 'center')
```

``` {r library, echo = FALSE}
library(ggplot2)
library(plotly)
library(dplyr)
library(ggrepel)
library(gridExtra)
library(grid)
library(knitr)
```

# Formulação e documentação da ideia

A escolha da base se deu a partir de uma exploração no [**Kaggle**](https://www.kaggle.com/), na qual nos deparamos com a base de dados sobre os [jogadores draftado na NBA](https://www.kaggle.com/datasets/mattop/nba-draft-basketball-player-data-19892021). Definimos então, que essa seria a base utilizada. Analisando a base, vimos que, além de apresentar os jogadores, a posição no qual foram draftados e os times, desde 1989, também haviam as estatísticas de cada jogador ao longo de sua carreira. Conforme pode ser visualizado abaixo.

```{r}
base_de_dados <- read.csv("nbaplayersdraft.csv", sep = ",")

kable(head(base_de_dados))
```

Antes de partimos para a hipótese, cabe uma explicação sobre o processo de Draft da NBA.

## O que é o Draft da NBA?

O Draft da NBA é o processo em que jogadores amadores são escolhidos por franquias e entram oficialmente na maior liga de basquetebol profissinal do mundo, a NBA. O evento é composto por duas rodadas de 30 escolhas cada, com uma ordem pré-definida. Os times se revezam e cada um seleciona um jogador por rodada. Ou seja, 60 atletas são recrutados. Portanto, há de se imaginar que os primeiros escolhidos do Draft são melhores jogadores e farão melhores performances em sua carreira na liga.

Com isso, surgiu o seguinte questionamento, que veio a se tornar a hipótese a ser respondida com esse trabalho.

## Hipótese

<center> **A posição em que o jogador foi draftado realmente tem correlação com o seu desempenho durante a carreira?**</center>

Dessa forma, pretendemos validar ou invalidar a hipótese acima, a partir da visualização dos dados da base escolhida.

Para tal, inicialmente, pensamos em criar quatro gráficos categórico vs quantitativo, onde caso exista alguma correlação os jogadores escolhidos nas primeiras posições, devem ter estatísticas melhores do que aqueles escolhidos nas últimas. Sendo assim, para validar a hipótese, usando como métrica as estatísticas **pontos**, **rebotes**, **assistências** e **minutos jogados**, esperamos que os gráficos se apresentem conforme o rascunho abaixo.

``` {r, echo = FALSE}
knitr::include_graphics("Peça gráfica - Rascunho.jpg")
```

# Análise Exploratória da base de dados 

Como temos a hipótese a ser respondida em mente, trataremos a princípio apenas as variáveis pertinentes, sendo que, caso venha a se tornar necessário a inclusão de outras variáveis, iremos analisá-las posteriormente.   

Antes de qualquer análise mais aprofundada, devemos entender nossa base de dados. Batendo o olho no arquivo **.cvs**, podemos ver que cada linha representa um jogador e cada coluna uma variável a respeito dele. Assim, podemos começar a tratar as variáveis.
Para responder à hipótese, precisamos, acima de tudo, conseguir identificar a posição em que o jogador foi escolhido no draft. Para isso, temos as variáveis **rank** e **overall_pick**, que são o mesmo, e tratam exatamente da posição em que o jogador foi draftado. Essas, são variáveis qualitativas ordinais que vão de 1 a 60.   

Tendo a posição definida, precisamos olhar agora para as variáveis que nos ajudarão a definir o desempenho do jogador. Previamente, definimos que as estatísticas **pontos**, **rebotes**, **assistências** e **minutos jogados** seriam as responsáveis por determinar o desempenho. Essa escolha vai conforme a comunidade de basquete, que frequentemente usa essas estatísticas para definir a grandeza de um jogador, principalmente os **pontos**. Contudo, entendendo a diversidade de posições no basquete, não é justo analisar apenas pelos pontos, e sim pelo conjunto da obra, ou seja, **pontos**, **rebotes** e **assistências**. Junto a isso, os **minutos jogados** são de extrema importância, já que um jogador importante para o time, jogará mais minutos em cada partida.   

Analisando o banco de dados, vemos que a coluna **minutes_played** traz os minutos jogados, a coluna **points** traz os pontos totais, a coluna **total_rebounds** traz os rebotes e a coluna **assists** traz as assistências. Todas essas, são variáveis quantitativas discretas.   

Com as variáveis devidamente, definidas, podemos começar a análise exploratória. Inicialmente, iremos aplicar a função **summary** em todas as variáveis, para observar seu comportamento.

```{r}
base_de_dados_resumida <- select(base_de_dados, points, minutes_played, total_rebounds,assists)

summary(base_de_dados_resumida)
```

Já pudemos identificar a ocorrência de valores nulos na base. Analisando-a mais profundamente, podemos determinar que os valores nulos correspondem a jogadores que foram draftados, mas que nunca jogaram na NBA. Por isso, podemos desconsiderar esses valores, sem perda de dados significantes.

```{r}
base_de_dados_resumida <- na.omit(select(base_de_dados, points, minutes_played, total_rebounds, assists))

summary(base_de_dados_resumida)
```

Ainda, para entender a presença de outliers, foi feito um boxplot para cada variável.